(function(){var n;n=!0;window.tableau=window.tableau||{},function(n){function t(){for(var i,n,r=document.getElementsByTagName("script"),t=r.length-1;t>=0;t-=1)if(i=r[t],/viz_v1\.js/.test(i.src))break;return n=new RegExp(".*?[^/:]/").exec(i.src),n&&(n[0].toLowerCase().indexOf("http://")!==-1||n[0].toLowerCase().indexOf("https://")!==-1)||(n=new RegExp(".*?[^/:]/").exec(window.location.href)),n?n[0].toLowerCase():""}n._apiScripts=n._apiScripts||[];n._apiScripts.push(t())}(window.tableau);window.tableau._apiLoaded||(window.tableau._apiLoaded=!0,function(){function b(){return typeof pageXOffset!="undefined"?window.pageXOffset:document.documentElement.scrollLeft}function k(){return typeof pageYOffset!="undefined"?window.pageYOffset:document.documentElement.scrollTop}function e(n){return n===undefined||n===null}function u(n){return n===undefined||n===null||n.length===0}function d(){return!e(window.postMessage)}function g(n,t){return n&&n.nodeType===ut&&n.tagName.toLowerCase()===t.toLowerCase()}function nt(n,t){return n&&(" "+n.className+" ").replace(/[\n\t\r]/g," ").indexOf(" "+t+" ")>-1}function ft(n,t,i){var r=n?n.parentNode:null;for(i=i||document.body;r;){if(nt(r,t))return r;r=r===i?null:r.parentNode}return r}function et(n){var i,t,u,r;for(r=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&#39;"],[/\//g,"&#47;"]],i=n||"",t=0,u=r.length;t<u;t++)i=i.replace(r[t][0],r[t][1]);return i}function f(n,t){return window.getComputedStyle?window.getComputedStyle(n,t):n.currentStyle}function o(n,t){var i;return u(n)?t:(i=n.match(/^(yes|y|true|t|1)$/i),!u(i))}function ot(n){var t,i,r=[];if(u(n.filter))return"";for(t=0,i=n.filter.length;t<i;t++)r.push("&"+n.filter[t]);return r.join("")}function st(n){return n=n.replace(/^\//,""),n.charAt(n.length)!=="/"&&(n+="/"),n}function ht(n,t,i){var e,o,f,r=[t];f=i.site_root?i.site_root:"";f.length>0&&(f=st(f));u(i.path)?u(i.ticket)?r.push(f+"views/"+n):r.push("trusted/"+i.ticket+"/"+f+"views/"+n):r.push(i.path);r.push("?:embed=y");r.push("&:showVizHome=no");o={"load-order":1,width:1,height:1,embed:1,filter:1,path:1,ticket:1,serverRoot:1,static_image:1,site_prefix:1,site_root:1,bootstrapWhenNotified:1};for(e in i)i.hasOwnProperty(e)&&o[e]===undefined&&r.push("&:"+e+"="+i[e]);return r.join("")}function v(n,t){var i,h=n.childNodes,s,c,r,f,e="",l;for(t=t||{},s=0,c=h.length;s<c;s++)i=h[s],g(i,"param")&&i.name?(r=i.name,f=i.value?i.value:null,r==="name"?e=f:r==="filter"?(t.filter=t.filter||[],t.filter.push(f)):(t[r]=f,r==="mobile"&&o(f,!1)&&(w=!0))):i.childNodes&&i.childNodes.length>0&&!g(i,"object")&&(l=v(i,t),e=u(e)?l:e);return e}function tt(n){var r,i,t,f;return t=u(n.host_url)?u(n.serverRoot)?tableau._apiScripts[0]:n.serverRoot:decodeURIComponent(n.host_url),r=new RegExp(".*//"),f=new RegExp("https?://[-A-Za-z0-9]*public[-A-Za-z0-9]*\\.tableau"),i=r.exec(window.location.href)&&r.exec(window.location.href)[0],i&&i.indexOf("file://")===-1&&t.indexOf(i)===-1&&t.match(f)!==null&&(t=t.replace(r,i)),t}function ct(n,t){for(var i=0;n[i]!==undefined;i+=1)if(n[i]===t)return!0;return!1}function lt(n,t){for(var i=0;n[i]!==undefined;i+=1)if(n[i]===t)return n.splice(i,1),!0;return!1}function l(n){var i=n.getBoundingClientRect(),t=f(n),r=parseInt(t.paddingLeft,10)||0,e=parseInt(t.paddingRight,10)||0,u=parseInt(t.paddingTop,10)||0,o=parseInt(t.paddingBottom,10)||0,s=parseInt(t.borderLeftWidth,10)||0,h=parseInt(t.borderTopWidth,10)||0;return{left:i.left+r+s+b(),top:i.top+u+h+k(),width:n.clientWidth-(r+e),height:n.clientHeight-(u+o)}}function it(n,t){var i=Math.max(n.left,t.left),r=Math.max(n.top,t.top),u=Math.min(n.left+n.width,t.left+t.width),f=Math.min(n.top+n.height,t.top+t.height);return u<=i||f<=r?{left:0,top:0,width:0,height:0}:{left:i,top:r,width:u-i,height:f-r}}function at(){return window.visualViewport?{left:window.visualViewport.pageLeft,top:window.visualViewport.pageTop,width:window.visualViewport.width,height:window.visualViewport.height}:null}function vt(){var n,t;return n=at(),n?n:(n=l(document.documentElement),t=document.compatMode==="BackCompat",t&&(n.height=document.body.clientHeight-n.left,n.width=document.body.clientWidth-n.top),n.left+=b(),n.top+=k(),n)}function yt(n){for(var r,u,i=l(n),t=n.parentElement;t&&t.parentElement;t=t.parentElement)r=f(t).overflow,(r==="auto"||r==="scroll"||r==="hidden")&&(i=it(i,l(t)));return u=vt(),it(i,u)}function pt(n,t){var i=tableau.vizs[n]._loadOrder,r=tableau.vizs[t]._loadOrder;return i<r?-1:i===r?0:1}function y(n){var t=n>-1?tableau.vizs[r[n]]:null;t&&t._onLoaded()}function h(n){var i,u;n===t&&(u=t+1,i=tableau.vizs[r[u]],i&&(t=u,i.load(),window.postMessage&&setTimeout(function(){h(t)},3e3)))}function wt(){return document.baseURI!==document.location.href}function bt(){var n;p?(n=tableau.vizs[r[t]],n&&n._iframe.readyState==="complete"&&(y(t),h(t))):(y(t),h(t))}function rt(){setTimeout(bt,3e3)}function c(n){var u,i,o,f,e;if(n.data&&(typeof n.data=="string"||n.data instanceof String))if(o=n.data.split(","),f=o[0],f==="tableau.completed"||f==="completed"){if(e=parseInt(o[1],10),isNaN(e))for(u=0;u<=t;u++)i=tableau.vizs[r[u]],i&&i._hideLoadIndicators();y(e);h(e)}else if(f==="tableau.loadIndicatorsLoaded")i=tableau.vizs[r[t]],i&&i._hideLoadIndicators();else if(f==="layoutInfoReq")for(u=0;u<=t;u++)i=tableau.vizs[r[u]],i&&i._sendVisibleRect();else f==="tableau.listening"?(i=tableau.vizs[r[t]],i&&i._enableVisibleRectCommunication()):f==="tableau.staticImageRedirect"&&(e=parseInt(o[1],10),i=e>-1?tableau.vizs[r[e]]:null,i&&i._hideLoadIndicators())}function kt(){var n=navigator.userAgent;return n.indexOf("iPad")!==-1?!0:n.indexOf("Android")!==-1?!0:n.indexOf("AppleWebKit")!==-1&&n.indexOf("Mobile")!==-1?!0:!1}function dt(){function t(n,t){var i,r,u,f;i=0;r=0;u=document.documentElement.clientWidth/window.innerWidth;f="sf,"+t+","+u+","+i+","+r;n.postMessage(f,"*")}function i(i){if(typeof i.data=="string"||i.data instanceof String)for(var u=i.data.split(","),r=0,f;r<u.length;)n||u[r]!=="tableau.completed"&&u[r]!=="completed"||(n=!0,t(i.source,-1)),u[r]==="sf?"&&(f=u[++r],t(i.source,f)),++r}var n=!1;return window.addEventListener&&window.addEventListener("message",i,!1),this}function i(n){this._objectElement=n}function gt(){for(var n,r=document.getElementsByTagName("object"),u=[],t=0,i=r.length;t<i;t++)n=r[t],nt(n,"tableauViz")&&!ct(a,n)&&(a.push(n),u.push(n));return u}function ni(n){for(var r=window.tableau._apiScripts,t=0,i=Math.min(n.length,r.length);t<i;t++)n[t].params.serverRoot=r[t]}function ti(){for(var n=document.getElementById("tableau_hide_this");n;)n.parentNode.removeChild(n),n=document.getElementById("tableau_hide_this")}function s(){var n,o,e,s,i,c,u=[];if(s=gt(),s.length!==0){for(ti(),n=0,o=s.length;n<o;n++)e=s[n],i={filter:[],ticket:"",path:""},c=v(e,i),i.width=parseInt(f(e,null).width,10),isNaN(i.width)&&delete i.width,i.height=parseInt(f(e,null).height,10),isNaN(i.height)&&delete i.height,u.push({name:c,objectElement:e,params:i});for(ni(u),n=0,o=u.length;n<o;n++)tableau.createViz(u[n].name,u[n].objectElement,u[n].params);r.sort(pt);h(t)}}var ut=1,p=navigator.userAgent.indexOf("MSIE")>-1&&!window.opera,t=-1,w,a=[],r=[];i._instanceCounter=0;i.prototype.getRootElement=function(){return this._ensurePlaceholderDiv()?this._placeholderDiv:null};i.prototype.adjustSlopInWidth=function(n,t){return t-4};i.prototype.adjustSlopInHeight=function(t,i){var r=4;return o(t.tabs,!1)&&(r+=3),(o(t.toolbar,!0)||n)&&(r+=5),i-r};i.prototype.adjustHeightForPublic=function(n,t){return!n.embed_code_version||n.embed_code_version<3?t-33:t};i.prototype.sizeIframeToObjectElement=function(t){var o=this._objectElement,u={},r,i;e(o)||(v(o,u),r=f(o,null).width,i=f(o,null).height,r.indexOf("%")===-1&&i.indexOf("%")===-1&&(r=parseInt(r,10),i=parseInt(i,10),u.embed_code_version||(r=this.adjustSlopInWidth(u,r),i=this.adjustSlopInHeight(u,i)),n&&(i=this.adjustHeightForPublic(u,i)),r=r+"px",i=i+"px"),t.style.width=r,t.style.height=i)};i.prototype.sizeToObjectElement=function(n){var t=this._objectElement,i,r;e(t)||(i=f(t,null).width,r=f(t,null).height,n.style.width=i,n.style.height=r)};i.prototype.createLoadingFeedback=function(n,t){var r,e,c,f,l,v=this,s,h,a=o(t.display_spinner,!0);if(s=wt(),a!==!0||s||(t.display_spinner="no"),this._ensurePlaceholderDiv())return this.sizeToObjectElement(this._placeholderDiv),e=this._placeholderDiv.style,e.position="relative",e.overflow="hidden",e.display="none",r=['<div style="position:absolute;top:0;left:0;right:0;bottom:0;border:0;padding:0;margin:0">'],h=i._instanceCounter++,s||r.push('<div style="top:100px;left:0;right:0;position:absolute;z-index:991;box-shadow:none;display:flex;justify-content:center;"><style>#tableau-svg-spinner-container-%instId%{width:65px;height:65px;border-radius:10px;display:flex;justify-content:center;align-items:center}#tableau-svg-spinner-%instId%{width:50px;height:50px;-webkit-animation:tableau-svg-spinner-animation 1s linear infinite;animation:tableau-svg-spinner-animation 1s linear infinite}@-webkit-keyframes tableau-svg-spinner-animation{100%{-webkit-transform:rotate(360deg)}}@keyframes tableau-svg-spinner-animation{100%{transform:rotate(360deg)}}<\/style><div id="tableau-svg-spinner-container-%instId%"><svg id="tableau-svg-spinner-%instId%" viewBox="0 0 50 50"><style>#tail{fill:url(#tableau-fade-%instId%)}#head{fill:#616570}stop{stop-color:#616570}<\/style><linearGradient id="tableau-fade-%instId%" x2="50" y1="25" y2="25" gradientUnits="userSpaceOnUse"><stop offset="0" stop-opacity="0" /><stop offset=".15" stop-opacity=".04" /><stop offset=".3" stop-opacity=".16" /><stop offset=".45" stop-opacity=".36" /><stop offset=".61" stop-opacity=".64" /><stop offset=".76" /><\/linearGradient><path id="head" d="M0 25a25 25 0 1 0 50 0h-3.9a21.1 21.1 0 1 1-42.2 0" /><path id="tail" d="M50 25a25 25 0 0 0-50 0h3.9a21.1 21.1 0 1 1 42.2 0" /><\/svg><\/div><\/div>'.replace(/%instId%/g,h)),o(t.display_overlay,!0)&&r.push("<div style='position:absolute;top:0;left:0;right:0;bottom:0;z-index:990;background-color:#EBEBEB;opacity:.24'><\/div>"),o(t.display_static_image,!0)&&!u(t.static_image)&&(r.push("<style>#tableau-svg-spinner-container-%instId%{border-radius:12px;background:rgba(255,255,255,.6);<\/style>".replace(/%instId%/g,h)),t.display_static_image="no",c=o(t.tabs,!1),l=c?"23px;":"1px",r.push('<div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; '),r.push("background: transparent url('"),r.push(et(t.static_image)),r.push("') no-repeat scroll 0 0; box-shadow: none; left:0px; top:"),r.push(l),r.push('"><\/div>')),r.push("<\/div>"),f=document.createElement("div"),f.innerHTML=r.join(""),this._glassPaneElement=f.firstChild,this._placeholderDiv.appendChild(this._glassPaneElement),f.innerHTML="",f=null,this._createAndAppendIframe()};i.prototype.show=function(){this._placeholderDiv&&(this._placeholderDiv.style.display="block")};i.prototype.dispose=function(){if(this._glassPaneElement){var n,t,i;n=150;this._glassPaneElement.style.transition=n+"ms opacity";this._glassPaneElement.style.opacity=0;t=function(n){n.innerHTML="";n.parentNode.removeChild(n);n=null};i=this._glassPaneElement;window.setTimeout(function(){t(i)},n)}this._objectElement&&(lt(a,this._objectElement),this._objectElement.parentNode.removeChild(this._objectElement),this._objectElement=null)};i.prototype._ensurePlaceholderDiv=function(){var n;return e(this._placeholderDiv)?e(this._objectElement)?!1:(n=ft(this._objectElement,"tableauPlaceholder"),n||(n=document.createElement("div"),n.className="tableauPlaceholder",this._objectElement.parentNode.insertBefore(n,this._objectElement),n.appendChild(this._objectElement),this._objectElement.style.display="none"),this._placeholderDiv=n,!0):!0};i.prototype._createAndAppendIframe=function(){var i,t,o,n,s,h,c,r,u,l,f;if(!e(this._objectElement)){for(i=this._objectElement.attributes,n=document.createElement("iframe"),n.frameBorder="0",n.marginHeight="0",n.marginWidth="0",u={en:"data visualization",fr:"Visualisation de données",es:"Visualización de datos",pt:"Visualização de dados",ja:"データ ビジュアライゼーション",de:"Datenvisualisierung",ko:"데이터 비주얼리제이션","zh-CN":"数据可视化"},f=window.navigator.language,l=u[f]||u[f.substr(0,2)]||u.en,n.setAttribute("title",l),n.setAttribute("allowTransparency","true"),n.setAttribute("allowFullScreen","true"),t=0,o=i.length;t<o;t++)i[t].specified&&n.setAttribute(i[t].name,i[t].value);return n.style.cssText=this._objectElement.style.cssText,n.style.margin="0px",n.style.padding="0px",n.style.border="none",this.sizeIframeToObjectElement(n),r=navigator.userAgent,h=r.indexOf("WebKit")>=0,s=r.indexOf("Chrome")>=0,c=r.indexOf("Safari")>=0||h&&!s,c&&n.addEventListener("mousewheel",function(){}),this._ensurePlaceholderDiv()&&this._placeholderDiv.appendChild(n),n}};window.tableau.Viz=function(n,t,i){this._name=n;this._iframe=t;this._filterArgs="";this._filterOpts=ot(i);this._serverRoot=tt(i);this._baseUrl=ht(this._name,this._serverRoot,i);this._loadOrder=i["load-order"]?parseInt(i["load-order"],10):0;this._filter={}};window.tableau.vizs=[];window.tableau.createViz=function(n,t,f){var o,s,h,e;h=tt(f);s=new i(t);o=s.createLoadingFeedback(h,f);s.show();e=new tableau.Viz(n,o,f);e._loadFeedback=s;e.show();r.push(this.vizs.length);this.vizs.push(e);u(n)||(this.vizs[n]=e);window.postMessage||(p?o.onreadystatechange=rt:o.onload=rt)};window.tableau.Viz.prototype.load=function(){var n="&:loadOrderID="+t,i=window.top===window.self?"":"&:increment_view_count=no";this._iframe.src=this._baseUrl+this._filterOpts+n+i};window.tableau.Viz.prototype.show=function(){this._iframe.style.display="block"};window.tableau.Viz.prototype.hide=function(){this._iframe.style.display="none"};window.tableau.Viz.prototype.refresh=function(){this._iframe.src=this._baseUrl+this._filterOpts+this._filterArgs+"&:refresh=true"};window.tableau.Viz.prototype.revert=function(){this._iframe.src=this._baseUrl+"&:revert=all";this._filterArgs="";this._filter={}};window.tableau.Viz.prototype.filter=function(n){var t;if(e(n)){this.revert();return}for(t in n)this._filter[t]=n[t];this._filterArgs="";for(t in n)this._filterArgs+="&"+encodeURIComponent(t)+"=",this._filterArgs+=typeof n[t]=="string"?encodeURIComponent(n[t]):encodeURIComponent(n[t].join(","));this._iframe.src=this._baseUrl+this._filterOpts+this._filterArgs};window.tableau.Viz.prototype._sendVisibleRect=function(){var n,t,i;d()&&this._iframe&&this._iframe.contentWindow&&(n=yt(this._iframe),t=l(this._iframe),i=["layoutInfoResp",n.left-t.left,n.top-t.top,n.width,n.height].join(","),this._iframe.contentWindow.postMessage(i,"*"))};window.tableau.Viz.prototype._enableVisibleRectCommunication=function(){d()&&this._iframe&&this._iframe.contentWindow&&this._iframe.contentWindow.postMessage("tableau.enableVisibleRectCommunication","*")};window.tableau.Viz.prototype._onLoaded=function(){this._hideLoadIndicators();this._enableVisibleRectCommunication()};window.tableau.Viz.prototype._hideLoadIndicators=function(){this._loadFeedback&&(this._loadFeedback.dispose(),this._loadFeedback=null,delete this._loadFeedback)};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),document.addEventListener("message",c,!1),window.addEventListener("load",s,!1),window.addEventListener("message",c,!1)):document.attachEvent?(document.attachEvent("onreadystatechange",s),document.attachEvent("onmessage",c),window.attachEvent("onload",s),window.attachEvent("onmessage",c)):(window.onload=s,window.onmessage=c);(kt()||w)&&dt();tableau._createNewVizesAndStartLoading=s}());document.readyState==="complete"&&tableau._createNewVizesAndStartLoading()})();